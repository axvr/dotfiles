#!/bin/bash

# Run a bunch of update commands for my macOS installs.

set -ex

brew update
brew upgrade -n

{ set +x; } 2>/dev/null
read -p "Update? [y/n]: " ans
case "$ans" in
    [Yy]*)
        brew upgrade
        brew autoremove
        ;;
esac
set -x

(
  cd ~/Projects/dotfiles/
  git submodule-pull
  vim +Helptags +qall
)

# TODO: install Bass.

{ set +x; } 2>/dev/null
export SDKMAN_DIR="$HOME/.sdkman"
[[ -s "$SDKMAN_DIR/bin/sdkman-init.sh" ]] && . "$SDKMAN_DIR/bin/sdkman-init.sh"
echo '+ sdk upgrade java'
sdk upgrade java
echo '+ sdk selfupdate'
sdk selfupdate
echo '+ sdk update java'
sdk update java
set -x
